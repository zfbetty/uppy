





<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Uppy — Uppy</title>
    <meta charset="utf-8">
    <meta name="title" content="Uppy — Uppy">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@uppy_io">
    <meta name="twitter:creator" content="@uppy_io">
    <meta property="og:url" content="https://uppy.io/docs/uppy/index.html">
    <meta property="og:title" content="Uppy — Uppy">
    <meta name="twitter:title" content="Uppy — Uppy">
    <meta name="twitter:description" content="">
    <meta property="og:image" content="http://uppy.io/images/uppy-social-pink.png">
    <meta name="twitter:image" content="http://uppy.io/images/uppy-social-pink.png">
    
    <meta name="google-site-verification" content="JxARoHXoCI8bD07pLV_u3z6xpuWNcSIZIcHEytyCkUc" />

    <link rel="icon" href="/images/logos/uppy-dog-head-arrow.png" type="image/x-icon">
    <link rel="alternate" type="application/rss+xml" title="Uppy" href="/atom.xml">

    <script>
      window.PAGE_TYPE = "docs"
    </script>
    <link rel="stylesheet" href="/css/main.css?version=2">
    <!-- ^ poor man's solution to css cache busting. bump the version when there's something new we really want users to see -->
  </head>
  <body class="page-inner ">
    <div class="page">
      <div class="TransloaditBar">
        <a class="TransloaditBar-logo" href="https://transloadit.com/" target="_blank" rel="noopener noreferrer">
          <img class="TransloaditBar-logoImg" src="/images/transloadit.svg" width="82" height="19" alt="Transloadit">
        </a>
        <div class="TransloaditBar-about">Uppy is an open source project by <a class="TransloaditBar-link" href="https://transloadit.com/" target="_blank">Transloadit</a></div>
      </div>

      <header id="header" class="MainHeader js-MainHeader">
        <button class="MainHeader-menuBtn js-MenuBtn"></button>

        <span id="logo" class="MainLogo">
          <a class="MainLogo-link" href="/">Uppy</a>
          <!-- Was used for 1.0, we can re-use for 2.0 or major announcements -->
          <!-- <a class="MainLogo-version" href="/blog/2019/04/1.0/">
            1.0
            <span class="MainLogo-emoji">
              <img src="/images/party-popper.png" srcset="/images/party-popper@2x.png 2x" alt="🎉">
            </span>
          </a> -->
        </span>

        <nav>
          <ul id="nav" class="MainMenu">
            <!-- @todo uncomment search input when we get our own swifttype -->
<!-- <li>
  <form id="search-form" class="MainMenu-search">
    <input type="text" id="search-query" class="MainMenu-searchQuery st-default-search-input">
  </form>
</li> -->
<!--li><a href="/guide/" class="nav-link">Guide</a></li-->
<li><a href="/docs/" class="nav-link current">Docs</a></li>
<li><a href="/examples/dashboard/" class="nav-link">Examples</a></li>
<!--li><a href="/stats/" class="nav-link">Stats</a></li-->
<li><a href="/blog/" class="nav-link">Blog</a></li>
<li><a href="/support/" class="nav-link">Support</a></li>
<li><a href="https://github.com/transloadit/uppy" target="_blank" rel="noopener" class="nav-link">GitHub</a></li>

          </ul>
        </nav>

        <div class="MainHeader-tagline">
          The file uploader that <span class="MainHeader-taglinePart js-MainHeader-taglinePart is-visible">loves to play fetch</span>
        </div>

        <ul class="MainHeader-taglineList js-MainHeader-taglineList">
          
          <li>won’t chew on your shoes</li>
          
          <li>is fully housebroken</li>
          
          <li>just wants to play with you</li>
          
          <li>doesn’t hump your leg</li>
          
          <li>also accepts cat pictures</li>
          
          <li>loves you unconditionally</li>
          
          <li>you don’t have to keep on a leash</li>
          
          <li>won’t pee on your rug</li>
          
          <li>loves to play fetch</li>
          
          <li>doesn’t bite (hard)</li>
          
          <li>won’t bark at the mailman</li>
          
          <li>is great with the kids</li>
          
          <li>can digest anything, even chocolate cake</li>
          
          <li>is always happy to see you</li>
          
          <li>isn’t afraid of fireworks</li>
          
          <li>is allowed everywhere</li>
          
        </ul>
      </header>

      <main class="MainContent js-MainContent" id="main">
        
          
    <div class="Sidebar js-Sidebar">
  <ul class="main-menu">
    <!-- @todo uncomment search input when we get our own swifttype -->
<!-- <li>
  <form id="search-form" class="MainMenu-search">
    <input type="text" id="search-query" class="MainMenu-searchQuery st-default-search-input">
  </form>
</li> -->
<!--li><a href="/guide/" class="nav-link">Guide</a></li-->
<li><a href="/docs/" class="nav-link current">Docs</a></li>
<li><a href="/examples/dashboard/" class="nav-link">Examples</a></li>
<!--li><a href="/stats/" class="nav-link">Stats</a></li-->
<li><a href="/blog/" class="nav-link">Blog</a></li>
<li><a href="/support/" class="nav-link">Support</a></li>
<li><a href="https://github.com/transloadit/uppy" target="_blank" rel="noopener" class="nav-link">GitHub</a></li>

  </ul>
  <div class="list">
    <h2>
      
        <a href="/docs">Docs</a>
        
      </h2>
      
    <div class="menu-root">
      

    
    
    
    <ul>
      
        
        
        <li key="p-0-docs/index.html">
          <a href="/docs/" class="sidebar-link">Getting Started</a>
          
        </li>
      
        
        
        <li key="p-1-docs/uppy/index.html">
          <a href="/docs/uppy/" class="sidebar-link current">Uppy</a>
          
        </li>
      
        
        
        <li key="p-2-docs/companion/index.html">
          <a href="/docs/companion/" class="sidebar-link">Companion</a>
          
        </li>
      
        
        
        <li key="p-3-docs/plugins/index.html">
          <a href="/docs/plugins/" class="sidebar-link">List of Plugins</a>
          
        </li>
      
        
        
        <li key="p-4-docs/plugin-options/index.html">
          <a href="/docs/plugin-options/" class="sidebar-link">Common Plugin Options</a>
          
        </li>
      
        
        
        <li key="p-5-docs/stores/index.html">
          <a href="/docs/stores/" class="sidebar-link">Custom Stores</a>
          
        </li>
      
        
        
        <li key="p-6-docs/community-projects/index.html">
          <a href="/docs/community-projects/" class="sidebar-link">Community Projects</a>
          
        </li>
      
        
        
        <li key="p-7-docs/locales/index.html">
          <a href="/docs/locales/" class="sidebar-link">Locale Packs</a>
          
        </li>
      
    </ul>

    
    
    
        
        <h3 id="" key="category-1-UI Elements" data-scroll="no">UI Elements</h3>
        
    
    <ul>
      
        
        
        <li key="p-0-docs/dashboard/index.html">
          <a href="/docs/dashboard/" class="sidebar-link">Dashboard</a>
          
        </li>
      
        
        
        <li key="p-1-docs/status-bar/index.html">
          <a href="/docs/status-bar/" class="sidebar-link">Status Bar</a>
          
        </li>
      
        
        
        <li key="p-2-docs/progress-bar/index.html">
          <a href="/docs/progress-bar/" class="sidebar-link">Progress Bar</a>
          
        </li>
      
        
        
        <li key="p-3-docs/informer/index.html">
          <a href="/docs/informer/" class="sidebar-link">Informer</a>
          
        </li>
      
    </ul>

    
    
    
        
        <h3 id="" key="category-2-Sources" data-scroll="no">Sources</h3>
        
    
    <ul>
      
        
        
        <li key="p-0-docs/drag-drop/index.html">
          <a href="/docs/drag-drop/" class="sidebar-link">Drag & Drop</a>
          
        </li>
      
        
        
        <li key="p-1-docs/file-input/index.html">
          <a href="/docs/file-input/" class="sidebar-link">File Input</a>
          
        </li>
      
        
        
        <li key="p-2-docs/webcam/index.html">
          <a href="/docs/webcam/" class="sidebar-link">Webcam</a>
          
        </li>
      
        
        
        <li key="p-3-docs/providers/index.html">
          <a href="/docs/providers/" class="sidebar-link">Provider Plugins</a>
          
        </li>
      
        
        
        <li key="p-4-docs/dropbox/index.html">
          <span title='Requires Companion'>ⓒ </span><a href="/docs/dropbox/" class="sidebar-link">Dropbox</a>
          
        </li>
      
        
        
        <li key="p-5-docs/google-drive/index.html">
          <span title='Requires Companion'>ⓒ </span><a href="/docs/google-drive/" class="sidebar-link">Google Drive</a>
          
        </li>
      
        
        
        <li key="p-6-docs/facebook/index.html">
          <span title='Requires Companion'>ⓒ </span><a href="/docs/facebook/" class="sidebar-link">Facebook</a>
          
        </li>
      
        
        
        <li key="p-7-docs/instagram/index.html">
          <span title='Requires Companion'>ⓒ </span><a href="/docs/instagram/" class="sidebar-link">Instagram</a>
          
        </li>
      
        
        
        <li key="p-8-docs/onedrive/index.html">
          <span title='Requires Companion'>ⓒ </span><a href="/docs/onedrive/" class="sidebar-link">OneDrive</a>
          
        </li>
      
        
        
        <li key="p-9-docs/url/index.html">
          <span title='Requires Companion'>ⓒ </span><a href="/docs/url/" class="sidebar-link">Import From URL</a>
          
        </li>
      
    </ul>

    
    
    
        
        <h3 id="" key="category-3-Destinations" data-scroll="no">Destinations</h3>
        
    
    <ul>
      
        
        
        <li key="p-0-docs/tus/index.html">
          <a href="/docs/tus/" class="sidebar-link">Tus</a>
          
        </li>
      
        
        
        <li key="p-1-docs/xhr-upload/index.html">
          <a href="/docs/xhr-upload/" class="sidebar-link">XHR</a>
          
        </li>
      
        
        
        <li key="p-2-docs/aws-s3/index.html">
          <a href="/docs/aws-s3/" class="sidebar-link">AWS S3</a>
          
        </li>
      
        
        
        <li key="p-3-docs/aws-s3-multipart/index.html">
          <a href="/docs/aws-s3-multipart/" class="sidebar-link">AWS S3 Multipart</a>
          
        </li>
      
    </ul>

    
    
    
        
        <h3 id="" key="category-4-File Processing" data-scroll="no"><a href="/docs/robodog/">File Processing</a></h3>
        
    
    <ul>
      
        
        
        <li key="p-0-docs/robodog/index.html">
          <a href="/docs/robodog/" class="sidebar-link">Robodog Introduction</a>
          
        </li>
      
        
        
        <li key="p-1-docs/robodog/picker/index.html">
          <a href="/docs/robodog/picker/" class="sidebar-link">Robodog File Picker</a>
          
        </li>
      
        
        
        <li key="p-2-docs/robodog/form/index.html">
          <a href="/docs/robodog/form/" class="sidebar-link">Robodog Form</a>
          
        </li>
      
        
        
        <li key="p-3-docs/robodog/upload/index.html">
          <a href="/docs/robodog/upload/" class="sidebar-link">Robodog Upload</a>
          
        </li>
      
        
        
        <li key="p-4-docs/robodog/dashboard/index.html">
          <a href="/docs/robodog/dashboard/" class="sidebar-link">Robodog Dashboard</a>
          
        </li>
      
        
        
        <li key="p-5-docs/transloadit/index.html">
          <a href="/docs/transloadit/" class="sidebar-link">Transloadit</a>
          
        </li>
      
    </ul>

    
    
    
        
        <h3 id="" key="category-5-Miscellaneous" data-scroll="no">Miscellaneous</h3>
        
    
    <ul>
      
        
        
        <li key="p-0-docs/form/index.html">
          <a href="/docs/form/" class="sidebar-link">Form</a>
          
        </li>
      
        
        
        <li key="p-1-docs/golden-retriever/index.html">
          <a href="/docs/golden-retriever/" class="sidebar-link">Golden Retriever</a>
          
        </li>
      
        
        
        <li key="p-2-docs/thumbnail-generator/index.html">
          <a href="/docs/thumbnail-generator/" class="sidebar-link">Thumbnail Generator</a>
          
        </li>
      
        
        
        <li key="p-3-docs/redux/index.html">
          <a href="/docs/redux/" class="sidebar-link">Redux</a>
          
        </li>
      
    </ul>

    
    
    
    <ul>
      
    </ul>

    
    
    
        
        <h3 id="" key="category-7-React" data-scroll="no"><a href="/docs/react/">React</a></h3>
        
    
    <ul>
      
        
        
        <li key="p-0-docs/react/index.html">
          <a href="/docs/react/" class="sidebar-link">Introduction</a>
          
        </li>
      
        
        
        <li key="p-1-docs/react/status-bar/index.html">
          <a href="/docs/react/status-bar/" class="sidebar-link">&lt;StatusBar /></a>
          
        </li>
      
        
        
        <li key="p-2-docs/react/drag-drop/index.html">
          <a href="/docs/react/drag-drop/" class="sidebar-link">&lt;DragDrop /></a>
          
        </li>
      
        
        
        <li key="p-3-docs/react/progress-bar/index.html">
          <a href="/docs/react/progress-bar/" class="sidebar-link">&lt;ProgressBar /></a>
          
        </li>
      
        
        
        <li key="p-4-docs/react/dashboard/index.html">
          <a href="/docs/react/dashboard/" class="sidebar-link">&lt;Dashboard /></a>
          
        </li>
      
        
        
        <li key="p-5-docs/react/dashboard-modal/index.html">
          <a href="/docs/react/dashboard-modal/" class="sidebar-link">&lt;DashboardModal /></a>
          
        </li>
      
        
        
        <li key="p-6-docs/react/native/index.html">
          <a href="/docs/react/native/" class="sidebar-link">React Native</a>
          
        </li>
      
    </ul>

    
    
    
        
        <h3 id="" key="category-8-Contributing" data-scroll="no"><a href="/docs/contributing/">Contributing</a></h3>
        
    
    <ul>
      
        
        
        <li key="p-0-docs/contributing.html">
          <a href="/docs/contributing.html" class="sidebar-link">Contributing</a>
          
        </li>
      
        
        
        <li key="p-1-docs/writing-plugins/index.html">
          <a href="/docs/writing-plugins/" class="sidebar-link">Writing Plugins</a>
          
        </li>
      
    </ul>


    </div>
    <ul class="Social">
  <li><a href="https://twitter.com/uppy_io" target="_blank" rel="noopener" class="twitter-follow-button" data-show-count="false" data-dnt="true">Follow @uppy_io</a></li>
  <li><iframe src="https://ghbtns.com/github-btn.html?user=transloadit&repo=uppy&type=watch&count=true"
allowtransparency="true" frameborder="0" scrolling="0" width="100" height="20"></iframe></li>
  <!-- to regenerate you can use this link: https://img.shields.io/badge/community-forum-d8006a.svg -->
  <li><a href="https://community.transloadit.com/c/uppy" target="_blank" rel="noopener"><img src="/images/community-forum-d8006a.svg" /> </a></li>
  <li class="BuildBadge">
   <span class="wrapper">
     <a href="https://travis-ci.org/transloadit/uppy" target="_blank" rel="noopener"><img src="https://travis-ci.org/transloadit/uppy.svg?branch=master" alt="Build Status"></a>
   </span>
  </li>
  <li class="SauceBadge">
   <span class="wrapper">
     <a href="https://saucelabs.com/u/transloadit-uppy" target="_blank" rel="noopener">
       <img src="https://saucelabs.com/buildstatus/transloadit-uppy" alt="Sauce Test Status"/>
     </a>
   </span>
  </li>
</ul>

  </div>
</div>



<div class="Content js-Content docs with-sidebar">
    <h1>Uppy</h1>
    <html><head></head><body><p>This is the core module that orchestrates everything in Uppy, managing state and events and providing methods.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="token keyword">const</span> <span class="token maybe-class-name">Uppy</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@uppy/core'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> uppy <span class="token operator">=</span> <span class="token function"><span class="token maybe-class-name">Uppy</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><p>Install from NPM:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="token function">npm</span> <span class="token function">install</span> @uppy/core</pre></td></tr></table></figure>
<p>In the <a href="/docs/#With-a-script-tag">CDN package</a>, it is available on the <code>Uppy</code> global object:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="token keyword">const</span> <span class="token maybe-class-name">Core</span> <span class="token operator">=</span> <span class="token maybe-class-name">Uppy</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Core</span></span></pre></td></tr></table></figure>
<h2 id="TypeScript"><a href="#TypeScript" class="headerlink" title="TypeScript"></a>TypeScript</h2><p>When using TypeScript, Uppy has weak type checking by default. That means that the options to plugins are not type-checked. For example, this is allowed:</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="token keyword">import</span> Uppy <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">'@uppy/core'</span><span class="token punctuation">)</span>
<span class="token keyword">import</span> Tus <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">'@uppy/tus'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> uppy <span class="token operator">=</span> <span class="token function">Uppy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
uppy<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Tus<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  invalidOption<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  endpoint<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'wrong'</span><span class="token punctuation">,</span> <span class="token string">'type'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<p>As of Uppy 1.10, Uppy supports a strict typechecking mode. This mode typechecks the options passed in to plugins. This will be the only mode in Uppy 2.0, but is currently optional to preserve backwards compatibility. The strict mode can be enabled by passing a special generic type parameter to the Uppy constructor:</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="token keyword">import</span> Uppy <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">'@uppy/core'</span><span class="token punctuation">)</span>
<span class="token keyword">import</span> Tus <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">'@uppy/tus'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> uppy <span class="token operator">=</span> Uppy<span class="token operator">&lt;</span>Uppy<span class="token punctuation">.</span>StrictTypes<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
uppy<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Tus<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  invalidOption<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token comment">// this will now make the compilation fail!</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<p>If you are storing Uppy instances in your code, for example in a property on a React or Angular component class, make sure to add the <code>StrictTypes</code> flag there as well:</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> uppy<span class="token operator">:</span> Uppy<span class="token operator">&lt;</span>Uppy<span class="token punctuation">.</span>StrictTypes<span class="token operator">></span>
<span class="token punctuation">}</span></pre></td></tr></table></figure>
<p>In Uppy 2.0, this generic parameter will be removed, and your plugin options will always be type-checked.</p>
<h2 id="Options"><a href="#Options" class="headerlink" title="Options"></a>Options</h2><p>The Uppy core module has the following configurable options:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="token keyword">const</span> uppy <span class="token operator">=</span> <span class="token function"><span class="token maybe-class-name">Uppy</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token string">'uppy'</span><span class="token punctuation">,</span>
  autoProceed<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  allowMultipleUploads<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  debug<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  restrictions<span class="token operator">:</span> <span class="token punctuation">{</span>
    maxFileSize<span class="token operator">:</span> <span class="token keyword null nil">null</span><span class="token punctuation">,</span>
    maxNumberOfFiles<span class="token operator">:</span> <span class="token keyword null nil">null</span><span class="token punctuation">,</span>
    minNumberOfFiles<span class="token operator">:</span> <span class="token keyword null nil">null</span><span class="token punctuation">,</span>
    allowedFileTypes<span class="token operator">:</span> <span class="token keyword null nil">null</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  meta<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">onBeforeFileAdded</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">currentFile<span class="token punctuation">,</span> files</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> currentFile<span class="token punctuation">,</span>
  <span class="token function-variable function">onBeforeUpload</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">files</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  locale<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  store<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">DefaultStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  logger<span class="token operator">:</span> justErrorsLogger
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<h3 id="id-39-uppy-39"><a href="#id-39-uppy-39" class="headerlink" title="id: 'uppy'"></a><code>id: 'uppy'</code></h3><p>A site-wide unique ID for the instance.</p>
<p>If multiple Uppy instances are being used, for instance, on two different pages, an <code>id</code> should be specified. This allows Uppy to store information in <code>localStorage</code> without colliding with other Uppy instances.</p>
<p>Note that this ID should be persistent across page reloads and navigation—it shouldn’t be a random number that is different every time Uppy is loaded.<br>For example, if one Uppy instance is used to upload user avatars, and another to add photos to a blog post, you might use:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="token keyword">const</span> avatarUploader <span class="token operator">=</span> <span class="token function"><span class="token maybe-class-name">Uppy</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">'avatar'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> photoUploader <span class="token operator">=</span> <span class="token function"><span class="token maybe-class-name">Uppy</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">'post'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<h3 id="autoProceed-false"><a href="#autoProceed-false" class="headerlink" title="autoProceed: false"></a><code>autoProceed: false</code></h3><p>By default Uppy will wait for an upload button to be pressed in the UI, or an <code>.upload()</code> method to be called, before starting an upload. Setting this to <code>autoProceed: true</code> will start uploading automatically after the first file is selected.</p>
<h3 id="allowMultipleUploads-true"><a href="#allowMultipleUploads-true" class="headerlink" title="allowMultipleUploads: true"></a><code>allowMultipleUploads: true</code></h3><p>Whether to allow multiple upload batches. This means multiple calls to <code>.upload()</code>, or a user adding more files after already uploading some. An upload batch is made up of the files that were added since the previous <code>.upload()</code> call.</p>
<p>With this option set to <code>true</code>, users can upload some files, and then add <em>more</em> files and upload those as well. A model use case for this is uploading images to a gallery or adding attachments to an email.</p>
<p>With this option set to <code>false</code>, users can upload some files, and you can listen for the <a href="/docs/uppy/#complete">‘complete’</a> event to continue to the next step in your app’s upload flow. A typical use case for this is uploading a new profile picture. If you are integrating with an existing HTML form, this option gives the closest behaviour to a bare <code>&lt;input type="file"&gt;</code>.</p>
<h3 id="logger"><a href="#logger" class="headerlink" title="logger"></a><code>logger</code></h3><p>An object of methods that are called with debug information from <a href="/docs/uppy/#uppy-log"><code>uppy.log</code></a>.</p>
<p>Set <code>logger: Uppy.debugLogger</code> to get debug info output to the browser console:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="token keyword">const</span> <span class="token maybe-class-name">Uppy</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@uppy/core'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> uppy <span class="token operator">=</span> <span class="token function"><span class="token maybe-class-name">Uppy</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  logger<span class="token operator">:</span> <span class="token maybe-class-name">Uppy</span><span class="token punctuation">.</span><span class="token property-access">debugLogger</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<p>You can also provide your own logger object: it should expose <code>debug</code>, <code>warn</code> and <code>error</code> methods, as shown in the examples below.</p>
<p>Here’s an example of a <code>logger</code> that does nothing:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="token keyword">const</span> nullLogger <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">debug</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token spread operator">...</span>args</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">warn</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token spread operator">...</span>args</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">error</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token spread operator">...</span>args</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre></td></tr></table></figure>
<p><code>logger: Uppy.debugLogger</code> looks like this:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="token keyword">const</span> debugLogger <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">debug</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token spread operator">...</span>args</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// IE 10 doesn’t support console.debug</span>
    <span class="token keyword">const</span> debug <span class="token operator">=</span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token property-access">debug</span> <span class="token operator">||</span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token property-access">log</span>
    debug<span class="token punctuation">.</span><span class="token method function property-access">call</span><span class="token punctuation">(</span>console<span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[Uppy] [</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">getTimeStamp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">]</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token spread operator">...</span>args<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">warn</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token spread operator">...</span>args</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">warn</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[Uppy] [</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">getTimeStamp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">]</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token spread operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function-variable function">error</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token spread operator">...</span>args</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[Uppy] [</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">getTimeStamp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">]</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token spread operator">...</span>args<span class="token punctuation">)</span>
<span class="token punctuation">}</span></pre></td></tr></table></figure>
<p>By providing your own <code>logger</code>, you can send the debug information to a server, choose to log errors only, etc.</p>
<h3 id="restrictions"><a href="#restrictions" class="headerlink" title="restrictions: {}"></a><code>restrictions: {}</code></h3><p>Optionally, provide rules and conditions to limit the type and/or number of files that can be selected.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>maxFileSize</code> <em>null | number</em> — maximum file size in bytes for each individual file (total max size <a href="https://github.com/transloadit/uppy/issues/514" target="_blank" rel="noopener">has been requested, and is planned</a>)</li>
<li><code>maxNumberOfFiles</code> <em>null | number</em> — total number of files that can be selected</li>
<li><code>minNumberOfFiles</code> <em>null | number</em> — minimum number of files that must be selected before the upload</li>
<li><code>allowedFileTypes</code> <em>null | array</em> of wildcards <code>image/*</code>, exact mime types <code>image/jpeg</code>, or file extensions <code>.jpg</code>: <code>['image/*', '.jpg', '.jpeg', '.png', '.gif']</code></li>
</ul>
<p><code>maxNumberOfFiles</code> also affects the number of files a user is able to select via the system file dialog in UI plugins like <code>DragDrop</code>, <code>FileInput</code> and <code>Dashboard</code>: when set to <code>1</code>, they will only be able to select a single file. When <code>null</code> or another number is provided, they will be able to select multiple files.</p>
<p><code>allowedFileTypes</code> gets passed to the system file dialog via <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#Limiting_accepted_file_types" target="_blank" rel="noopener"><code>&lt;input&gt;</code></a>’s accept attribute, so only files matching these types will be selectable.</p>
<blockquote>
<p>If you’d like to force a certain meta field data to be entered before the upload, you can <a href="https://github.com/transloadit/uppy/issues/1703#issuecomment-507202561" target="_blank" rel="noopener">do so using <code>onBeforeUpload</code></a>.</p>
</blockquote>
<blockquote>
<p>If you need to restrict <code>allowedFileTypes</code> to a file extension with double dots, like <code>.nii.gz</code>, you can do so by <a href="https://github.com/transloadit/uppy/issues/1822#issuecomment-526801208" target="_blank" rel="noopener">setting <code>allowedFileTypes</code> to just the last part of the extension, <code>allowedFileTypes: ['.gz']</code>, and then using <code>onBeforeFileAdded</code> to filter for <code>.nii.gz</code></a>.</p>
</blockquote>
<h3 id="meta"><a href="#meta" class="headerlink" title="meta: {}"></a><code>meta: {}</code></h3><p>Metadata object, used for passing things like public keys, usernames, tags and so on:</p>
<figure class="highlight js"><table><tr><td class="code"><pre>meta<span class="token operator">:</span> <span class="token punctuation">{</span>
  username<span class="token operator">:</span> <span class="token string">'John'</span>
<span class="token punctuation">}</span></pre></td></tr></table></figure>
<p>This global metadata is added to each file in Uppy. It can be modified by two methods:</p>
<ol>
<li><a href="/docs/uppy/#uppy-setMeta-data"><code>uppy.setMeta({ username: 'Peter' })</code></a> — set or update meta for all files.</li>
<li><a href="/docs/uppy/#uppy-setFileMeta-fileID-data"><code>uppy.setFileMeta('myfileID', { resize: 1500 })</code></a> — set or update meta for specific file.</li>
</ol>
<p>Metadata from each file is then attached to uploads in <a href="/docs/tus/">Tus</a> and <a href="/docs/xhrupload/">XHRUpload</a> plugins.</p>
<p>Metadata can also be added from a <code>&lt;form&gt;</code> element on your page, through the <a href="/docs/form/">Form</a> plugin or through the UI if you are using Dashboard with the <a href="/docs/dashboard/#metaFields"><code>metaFields</code></a> option.</p>
<p><a id="onBeforeFileAdded"></a></p>
<h3 id="onBeforeFileAdded-currentFile-files-gt-currentFile"><a href="#onBeforeFileAdded-currentFile-files-gt-currentFile" class="headerlink" title="onBeforeFileAdded: (currentFile, files) => currentFile"></a><code>onBeforeFileAdded: (currentFile, files) =&gt; currentFile</code></h3><p>A function run before a file is added to Uppy. It gets passed <code>(currentFile, files)</code> where <code>currentFile</code> is a file that is about to be added, and <code>files</code> is an object with all files that already are in Uppy.</p>
<p>Use this function to run any number of custom checks on the selected file, or manipulate it, for instance, by optimizing a file name.</p>
<blockquote>
<p>⚠️ Note that this method is intended for quick synchronous checks/modifications only. If you need to do an async API call, or heavy work on a file (like compression or encryption), you should utilize a <a href="/docs/writing-plugins/#Example-of-a-custom-plugin">custom plugin</a> instead.</p>
</blockquote>
<p>Return true/nothing or a modified file object to proceed with adding the file:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="token function-variable function">onBeforeFileAdded</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">currentFile<span class="token punctuation">,</span> files</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>currentFile<span class="token punctuation">.</span><span class="token property-access">name</span> <span class="token operator">===</span> <span class="token string">'forest-IMG_0616.jpg'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// or</span>

<span class="token function-variable function">onBeforeFileAdded</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">currentFile<span class="token punctuation">,</span> files</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> modifiedFile <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token spread operator">...</span>currentFile<span class="token punctuation">,</span>
    name<span class="token operator">:</span> currentFile<span class="token punctuation">.</span><span class="token property-access">name</span> <span class="token operator">+</span> <span class="token string">'__'</span> <span class="token operator">+</span> <span class="token known-class-name class-name">Date</span><span class="token punctuation">.</span><span class="token method function property-access">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> modifiedFile
<span class="token punctuation">}</span></pre></td></tr></table></figure>
<p>Return false to abort adding the file:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="token function-variable function">onBeforeFileAdded</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">currentFile<span class="token punctuation">,</span> files</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>currentFile<span class="token punctuation">.</span><span class="token property-access">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// log to console</span>
    uppy<span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Skipping file because it has no type</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token comment">// show error message to the user</span>
    uppy<span class="token punctuation">.</span><span class="token method function property-access">info</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Skipping file because it has no type</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre></td></tr></table></figure>
<p><strong>Note:</strong> it is up to you to show a notification to the user about a file not passing validation. We recommend showing a message using <a href="#uppy-info">uppy.info()</a> and logging to console for debugging purposes via <a href="#uppy-log">uppy.log()</a>.</p>
<p><a id="onBeforeUpload"></a></p>
<h3 id="onBeforeUpload-files-gt-files"><a href="#onBeforeUpload-files-gt-files" class="headerlink" title="onBeforeUpload: (files) => files"></a><code>onBeforeUpload: (files) =&gt; files</code></h3><p>A function run before an upload begins. Gets passed <code>files</code> object with all the files that are already in Uppy.</p>
<p>Use this to check if all files or their total number match your requirements, or manipulate all the files at once before upload.</p>
<blockquote>
<p>⚠️ Note that this method is intended for quick synchronous checks/modifications only. If you need to do an async API call, or heavy work on a file (like compression or encryption), you should utilize a <a href="/docs/writing-plugins/#Example-of-a-custom-plugin">custom plugin</a> instead.</p>
</blockquote>
<p>Return true or modified <code>files</code> object to proceed:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="token function-variable function">onBeforeUpload</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">files</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// We’ll be careful to return a new object, not mutating the original `files`</span>
  <span class="token keyword">const</span> updatedFiles <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">keys</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token parameter">fileID</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
    updatedFiles<span class="token punctuation">[</span>fileID<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token spread operator">...</span>files<span class="token punctuation">[</span>fileID<span class="token punctuation">]</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">'myCustomPrefix'</span> <span class="token operator">+</span> <span class="token string">'__'</span> <span class="token operator">+</span> files<span class="token punctuation">[</span>fileID<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">name</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> updatedFiles
<span class="token punctuation">}</span></pre></td></tr></table></figure>
<p>Return false to abort:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="token function-variable function">onBeforeUpload</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">files</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">keys</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// log to console</span>
    uppy<span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Aborting upload because only </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">keys</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> files were selected</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token comment">// show error message to the user</span>
    uppy<span class="token punctuation">.</span><span class="token method function property-access">info</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">You have to select at least 2 files</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre></td></tr></table></figure>
<p><strong>Note:</strong> it is up to you to show a notification to the user about a file not passing validation. We recommend showing a message using <a href="#uppy-info">uppy.info()</a> and logging to console for debugging purposes via <a href="#uppy-log">uppy.log()</a>.</p>
<h3 id="locale"><a href="#locale" class="headerlink" title="locale: {}"></a><code>locale: {}</code></h3><p>This allows you to override language strings:</p>
<figure class="highlight js"><table><tr><td class="code"><pre>locale<span class="token operator">:</span> <span class="token punctuation">{</span>
  strings<span class="token operator">:</span> <span class="token punctuation">{</span>
    youCanOnlyUploadX<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token number">0</span><span class="token operator">:</span> <span class="token string">'You can only upload %{smart_count} file'</span><span class="token punctuation">,</span>
      <span class="token number">1</span><span class="token operator">:</span> <span class="token string">'You can only upload %{smart_count} files'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    youHaveToAtLeastSelectX<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token number">0</span><span class="token operator">:</span> <span class="token string">'You have to select at least %{smart_count} file'</span><span class="token punctuation">,</span>
      <span class="token number">1</span><span class="token operator">:</span> <span class="token string">'You have to select at least %{smart_count} files'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// **NOTE**: This string is called `exceedsSize2` for backwards compatibility reasons.</span>
    <span class="token comment">// See https://github.com/transloadit/uppy/pull/2077</span>
    exceedsSize2<span class="token operator">:</span> <span class="token string">'This file exceeds maximum allowed size of %{size}'</span><span class="token punctuation">,</span>
    youCanOnlyUploadFileTypes<span class="token operator">:</span> <span class="token string">'You can only upload: %{types}'</span><span class="token punctuation">,</span>
    companionError<span class="token operator">:</span> <span class="token string">'Connection with Companion failed'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre></td></tr></table></figure>
<p>Instead of overriding strings yourself, consider using <a href="https://github.com/transloadit/uppy/tree/master/packages/%40uppy/locales" target="_blank" rel="noopener">one of our language packs</a> (or contributing one!):</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="token keyword">const</span> russianLocale <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@uppy/locales/lib/ru_RU'</span><span class="token punctuation">)</span>
<span class="token comment">// ^-- OR: import russianLocale from '@uppy/locales/lib/ru_RU'</span>
<span class="token keyword">const</span> uppy <span class="token operator">=</span> <span class="token function"><span class="token maybe-class-name">Uppy</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  locale<span class="token operator">:</span> russianLocale<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<p>If you use Uppy from a CDN, <a href="/examples/i18n/">there’s an example</a> showcasing how to change languages.</p>
<p>For flexibility, you can pass a <code>locale</code> at the <code>Uppy</code>/core level, or to Plugins individually. The locale strings that you set in core take precedence.</p>
<p>It also offers the pluralization function, which is used to determine which string will be used for the provided <code>smart_count</code> number.</p>
<p>For example, for the Icelandic language, the pluralization function would be:</p>
<figure class="highlight js"><table><tr><td class="code"><pre>locale<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">pluralize</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">(</span>n <span class="token operator">%</span> <span class="token number">10</span> <span class="token operator">!==</span> <span class="token number">1</span> <span class="token operator">||</span> n <span class="token operator">%</span> <span class="token number">100</span> <span class="token operator">===</span> <span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span></pre></td></tr></table></figure>
<p>We are using a forked <a href="https://github.com/airbnb/polyglot.js/blob/master/index.js#L37-L60" target="_blank" rel="noopener">Polyglot.js</a>.</p>
<h3 id="store-defaultStore"><a href="#store-defaultStore" class="headerlink" title="store: defaultStore()"></a><code>store: defaultStore()</code></h3><p>The Store that is used to keep track of internal state. By <a href="/docs/stores/#DefaultStore">default</a>, a simple object is used.</p>
<p>This option can be used to plug Uppy state into an external state management library, such as <a href="/docs/stores/#ReduxStore">Redux</a>. You can then write custom views with the library that is also used by the rest of the application.</p>
<!-- TODO document store API -->

<h2 id="Methods"><a href="#Methods" class="headerlink" title="Methods"></a>Methods</h2><h3 id="uppy-use-plugin-opts"><a href="#uppy-use-plugin-opts" class="headerlink" title="uppy.use(plugin, opts)"></a><code>uppy.use(plugin, opts)</code></h3><p>Add a plugin to Uppy, with an optional plugin options object.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="token keyword">const</span> <span class="token maybe-class-name">Uppy</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@uppy/core'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token maybe-class-name">DragDrop</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@uppy/drag-drop'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> uppy <span class="token operator">=</span> <span class="token function"><span class="token maybe-class-name">Uppy</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
uppy<span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span><span class="token maybe-class-name">DragDrop</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> target<span class="token operator">:</span> <span class="token string">'body'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<h3 id="uppy-removePlugin-instance"><a href="#uppy-removePlugin-instance" class="headerlink" title="uppy.removePlugin(instance)"></a><code>uppy.removePlugin(instance)</code></h3><p>Uninstall and remove a plugin.</p>
<h3 id="uppy-getPlugin-id"><a href="#uppy-getPlugin-id" class="headerlink" title="uppy.getPlugin(id)"></a><code>uppy.getPlugin(id)</code></h3><p>Get a plugin by its <a href="/docs/plugins/#id"><code>id</code></a> to access its methods.</p>
<h3 id="uppy-getID"><a href="#uppy-getID" class="headerlink" title="uppy.getID()"></a><code>uppy.getID()</code></h3><p>Get the Uppy instance ID, see the <a href="#id-39-uppy-39"><code>id</code> option</a>.</p>
<h3 id="uppy-addFile-fileObject"><a href="#uppy-addFile-fileObject" class="headerlink" title="uppy.addFile(fileObject)"></a><code>uppy.addFile(fileObject)</code></h3><p>Add a new file to Uppy’s internal state.</p>
<figure class="highlight js"><table><tr><td class="code"><pre>uppy<span class="token punctuation">.</span><span class="token method function property-access">addFile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'my-file.jpg'</span><span class="token punctuation">,</span> <span class="token comment">// file name</span>
  type<span class="token operator">:</span> <span class="token string">'image/jpeg'</span><span class="token punctuation">,</span> <span class="token comment">// file type</span>
  data<span class="token operator">:</span> blob<span class="token punctuation">,</span> <span class="token comment">// file blob</span>
  meta<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// optional, store the directory path of a file so Uppy can tell identical files in different directories apart</span>
    relativePath<span class="token operator">:</span> webkitFileSystemEntry<span class="token punctuation">.</span><span class="token property-access">relativePath</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  source<span class="token operator">:</span> <span class="token string">'Local'</span><span class="token punctuation">,</span> <span class="token comment">// optional, determines the source of the file, for example, Instagram</span>
  isRemote<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token comment">// optional, set to true if actual file is not in the browser, but on some remote server, for example, when using companion in combination with Instagram</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<p><code>addFile</code> gives an error if the file cannot be added, either because <code>onBeforeFileAdded(file)</code> gave an error, or because <code>uppy.opts.restrictions</code> checks failed.</p>
<p>If you try to add a file that already exists, <code>addFile</code> will throw an error. Unless that duplicate file was dropped with a folder — duplicate files from different folders are allowed, when selected with that folder. This is because we add <code>file.meta.relativePath</code> to the <code>file.id</code>.</p>
<p>If <code>uppy.opts.autoProceed === true</code>, Uppy will begin uploading automatically when files are added.</p>
<p><code>addFile</code> will return the generated id for the file that was added.</p>
<blockquote>
<p>Sometimes you might need to add a remote file to Uppy. This can be achieved by <a href="https://github.com/transloadit/uppy/issues/1006#issuecomment-413495493" target="_blank" rel="noopener">fetching the file, then creating a Blob object, or using the Url plugin with Companion</a>.</p>
<p>Sometimes you might need to mark some files as “already uploaded”, so that the user sees them, but they won’t actually be uploaded by Uppy. This can be achieved by <a href="https://github.com/transloadit/uppy/issues/1112#issuecomment-432339569" target="_blank" rel="noopener">looping through files and setting <code>uploadComplete: true, uploadStarted: false</code> on them</a></p>
</blockquote>
<h3 id="uppy-removeFile-fileID"><a href="#uppy-removeFile-fileID" class="headerlink" title="uppy.removeFile(fileID)"></a><code>uppy.removeFile(fileID)</code></h3><p>Remove a file from Uppy.</p>
<figure class="highlight js"><table><tr><td class="code"><pre>uppy<span class="token punctuation">.</span><span class="token method function property-access">removeFile</span><span class="token punctuation">(</span><span class="token string">'uppyteamkongjpg1501851828779'</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<p>Removing a file that is already being uploaded cancels that upload.</p>
<h3 id="uppy-getFile-fileID"><a href="#uppy-getFile-fileID" class="headerlink" title="uppy.getFile(fileID)"></a><code>uppy.getFile(fileID)</code></h3><p>Get a specific file object by its ID.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="token keyword">const</span> file <span class="token operator">=</span> uppy<span class="token punctuation">.</span><span class="token method function property-access">getFile</span><span class="token punctuation">(</span><span class="token string">'uppyteamkongjpg1501851828779'</span><span class="token punctuation">)</span>

file<span class="token punctuation">.</span><span class="token property-access">id</span>        <span class="token comment">// 'uppyteamkongjpg1501851828779'</span>
file<span class="token punctuation">.</span><span class="token property-access">name</span>      <span class="token comment">// 'nature.jpg'</span>
file<span class="token punctuation">.</span><span class="token property-access">extension</span> <span class="token comment">// '.jpg'</span>
file<span class="token punctuation">.</span><span class="token property-access">type</span>      <span class="token comment">// 'image/jpeg'</span>
file<span class="token punctuation">.</span><span class="token property-access">data</span>      <span class="token comment">// the Blob object</span>
file<span class="token punctuation">.</span><span class="token property-access">size</span>      <span class="token comment">// 3947642 (returns 'N/A' if size cannot be determined)</span>
file<span class="token punctuation">.</span><span class="token property-access">preview</span>   <span class="token comment">// value that can be used to populate "src" attribute of an "img" tag</span></pre></td></tr></table></figure>
<h3 id="uppy-getFiles"><a href="#uppy-getFiles" class="headerlink" title="uppy.getFiles()"></a><code>uppy.getFiles()</code></h3><p>Get an array of all file objects in Uppy. See <a href="#uppy-getFile-fileID">uppy.getFile()</a> for an example of the file object format.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="token keyword">const</span> prettierBytes <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@transloadit/prettier-bytes'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> items <span class="token operator">=</span> uppy<span class="token punctuation">.</span><span class="token method function property-access">getFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span>
  <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;li></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>file<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> - </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">prettierBytes</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token property-access">size</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/li></span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
<span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">'.file-list'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">innerHTML</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token embedded-code html">&lt;ul>${items}&lt;/ul></span><span class="token template-punctuation string">`</span></span></pre></td></tr></table></figure>
<h3 id="uppy-upload"><a href="#uppy-upload" class="headerlink" title="uppy.upload()"></a><code>uppy.upload()</code></h3><p>Start uploading selected files.</p>
<p>Returns a Promise <code>result</code> that resolves with an object containing two arrays of uploaded files:</p>
<ul>
<li><code>result.successful</code> - Files that were uploaded successfully.</li>
<li><code>result.failed</code> - Files that did not upload successfully. These file objects will have a <code>.error</code> property describing what went wrong.</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre>uppy<span class="token punctuation">.</span><span class="token method function property-access">upload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">info</span><span class="token punctuation">(</span><span class="token string">'Successful uploads:'</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span><span class="token property-access">successful</span><span class="token punctuation">)</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token property-access">failed</span><span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span><span class="token string">'Errors:'</span><span class="token punctuation">)</span>
    result<span class="token punctuation">.</span><span class="token property-access">failed</span><span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
      <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">error</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token property-access">error</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<h3 id="uppy-pauseResume-fileID"><a href="#uppy-pauseResume-fileID" class="headerlink" title="uppy.pauseResume(fileID)"></a><code>uppy.pauseResume(fileID)</code></h3><p>Toggle pause/resume on an upload. Will only work if resumable upload plugin, such as <a href="/docs/tus/">Tus</a>, is used.</p>
<h3 id="uppy-pauseAll"><a href="#uppy-pauseAll" class="headerlink" title="uppy.pauseAll()"></a><code>uppy.pauseAll()</code></h3><p>Pause all uploads. Will only work if a resumable upload plugin, such as <a href="/docs/tus/">Tus</a>, is used.</p>
<h3 id="uppy-resumeAll"><a href="#uppy-resumeAll" class="headerlink" title="uppy.resumeAll()"></a><code>uppy.resumeAll()</code></h3><p>Resume all uploads. Will only work if resumable upload plugin, such as <a href="/docs/tus/">Tus</a>, is used.</p>
<h3 id="uppy-retryUpload-fileID"><a href="#uppy-retryUpload-fileID" class="headerlink" title="uppy.retryUpload(fileID)"></a><code>uppy.retryUpload(fileID)</code></h3><p>Retry an upload (after an error, for example).</p>
<h3 id="uppy-retryAll"><a href="#uppy-retryAll" class="headerlink" title="uppy.retryAll()"></a><code>uppy.retryAll()</code></h3><p>Retry all uploads (after an error, for example).</p>
<h3 id="uppy-cancelAll"><a href="#uppy-cancelAll" class="headerlink" title="uppy.cancelAll()"></a><code>uppy.cancelAll()</code></h3><p>Cancel all uploads, reset progress and remove all files.</p>
<h3 id="uppy-setState-patch"><a href="#uppy-setState-patch" class="headerlink" title="uppy.setState(patch)"></a><code>uppy.setState(patch)</code></h3><p>Update Uppy’s internal state. Usually, this method is called internally, but in some cases it might be useful to alter something directly, especially when implementing your own plugins.</p>
<p>Uppy’s default state on initialization:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  files<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  currentUploads<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  capabilities<span class="token operator">:</span> <span class="token punctuation">{</span>
    resumableUploads<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  totalProgress<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  meta<span class="token operator">:</span> <span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">opts</span><span class="token punctuation">.</span><span class="token property-access">meta</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  info<span class="token operator">:</span> <span class="token punctuation">{</span>
    isHidden<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    type<span class="token operator">:</span> <span class="token string">'info'</span><span class="token punctuation">,</span>
    message<span class="token operator">:</span> <span class="token string">''</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre></td></tr></table></figure>
<p>Updating state:</p>
<figure class="highlight js"><table><tr><td class="code"><pre>uppy<span class="token punctuation">.</span><span class="token method function property-access">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  smth<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<p>State in Uppy is considered to be immutable. When updating values, it is your responsibility to not mutate them, but instead create copies. See <a href="http://redux.js.org/docs/recipes/UsingObjectSpreadOperator.html" target="_blank" rel="noopener">Redux docs</a> for more info on this. Here is an example from Uppy.Core that updates progress for a particular file in state:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="token comment">// We use Object.assign({}, obj) to create a copy of `obj`.</span>
<span class="token keyword">const</span> updatedFiles <span class="token operator">=</span> <span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> uppy<span class="token punctuation">.</span><span class="token method function property-access">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">files</span><span class="token punctuation">)</span>
<span class="token comment">// We use Object.assign({}, obj, update) to create an altered copy of `obj`.</span>
<span class="token keyword">const</span> updatedFile <span class="token operator">=</span> <span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> updatedFiles<span class="token punctuation">[</span>fileID<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  progress<span class="token operator">:</span> <span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> updatedFiles<span class="token punctuation">[</span>fileID<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">progress</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    bytesUploaded<span class="token operator">:</span> data<span class="token punctuation">.</span><span class="token property-access">bytesUploaded</span><span class="token punctuation">,</span>
    bytesTotal<span class="token operator">:</span> data<span class="token punctuation">.</span><span class="token property-access">bytesTotal</span><span class="token punctuation">,</span>
    percentage<span class="token operator">:</span> <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token property-access">bytesUploaded</span> <span class="token operator">/</span> data<span class="token punctuation">.</span><span class="token property-access">bytesTotal</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span>
updatedFiles<span class="token punctuation">[</span>data<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">]</span> <span class="token operator">=</span> updatedFile
uppy<span class="token punctuation">.</span><span class="token method function property-access">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>files<span class="token operator">:</span> updatedFiles<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<h3 id="uppy-getState"><a href="#uppy-getState" class="headerlink" title="uppy.getState()"></a><code>uppy.getState()</code></h3><p>Returns the current state from the <a href="#store-defaultStore">Store</a>.</p>
<h3 id="uppy-setFileState-fileID-state"><a href="#uppy-setFileState-fileID-state" class="headerlink" title="uppy.setFileState(fileID, state)"></a><code>uppy.setFileState(fileID, state)</code></h3><p>Update the state for a single file. This is mostly useful for plugins that may want to store data on file objects, or that need to pass file-specific configurations to other plugins that support it.</p>
<p><code>fileID</code> is the string file ID. <code>state</code> is an object that will be merged into the file’s state object.</p>
<figure class="highlight js"><table><tr><td class="code"><pre>uppy<span class="token punctuation">.</span><span class="token method function property-access">getPlugin</span><span class="token punctuation">(</span><span class="token string">'Url'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">addFile</span><span class="token punctuation">(</span><span class="token string">'path/to/remote-file.jpg'</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<h3 id="uppy-setMeta-data"><a href="#uppy-setMeta-data" class="headerlink" title="uppy.setMeta(data)"></a><code>uppy.setMeta(data)</code></h3><p>Alters global <code>meta</code> object in state, the one that can be set in Uppy options and gets merged with all newly added files. Calling <code>setMeta</code> will also merge newly added meta data with previously selected files.</p>
<figure class="highlight js"><table><tr><td class="code"><pre>uppy<span class="token punctuation">.</span><span class="token method function property-access">setMeta</span><span class="token punctuation">(</span><span class="token punctuation">{</span> resize<span class="token operator">:</span> <span class="token number">1500</span><span class="token punctuation">,</span> token<span class="token operator">:</span> <span class="token string">'ab5kjfg'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<h3 id="uppy-setFileMeta-fileID-data"><a href="#uppy-setFileMeta-fileID-data" class="headerlink" title="uppy.setFileMeta(fileID, data)"></a><code>uppy.setFileMeta(fileID, data)</code></h3><p>Update metadata for a specific file.</p>
<figure class="highlight js"><table><tr><td class="code"><pre>uppy<span class="token punctuation">.</span><span class="token method function property-access">setFileMeta</span><span class="token punctuation">(</span><span class="token string">'myfileID'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> resize<span class="token operator">:</span> <span class="token number">1500</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<h3 id="uppy-setOptions-opts"><a href="#uppy-setOptions-opts" class="headerlink" title="uppy.setOptions(opts)"></a><code>uppy.setOptions(opts)</code></h3><p>Change Uppy options on the fly. For example, to conditionally change <code>restrictions.allowedFileTypes</code> or <code>locale</code>:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="token keyword">const</span> uppy <span class="token operator">=</span> <span class="token function"><span class="token maybe-class-name">Uppy</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
uppy<span class="token punctuation">.</span><span class="token method function property-access">setOptions</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  restrictions<span class="token operator">:</span> <span class="token punctuation">{</span> maxNumberOfFiles<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  autoProceed<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

uppy<span class="token punctuation">.</span><span class="token method function property-access">setOptions</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  locale<span class="token operator">:</span> <span class="token punctuation">{</span>
    strings<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">'cancel'</span><span class="token operator">:</span> <span class="token string">'Отмена'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<p>You can also change options for plugin on the fly, like this:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="token comment">// Change width of the Dashboard drag-and-drop aread on the fly</span>
uppy<span class="token punctuation">.</span><span class="token method function property-access">getPlugin</span><span class="token punctuation">(</span><span class="token string">'Dashboard'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">setOptions</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  width<span class="token operator">:</span> <span class="token number">300</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<h3 id="uppy-reset"><a href="#uppy-reset" class="headerlink" title="uppy.reset()"></a><code>uppy.reset()</code></h3><p>Stop all uploads in progress and clear file selection, set progress to 0. Basically, return things to the way they were before any user input.</p>
<h3 id="uppy-close"><a href="#uppy-close" class="headerlink" title="uppy.close()"></a><code>uppy.close()</code></h3><p>Uninstall all plugins and close down this Uppy instance. Also runs <code>uppy.reset()</code> before uninstalling.</p>
<h3 id="uppy-log"><a href="#uppy-log" class="headerlink" title="uppy.log()"></a><code>uppy.log()</code></h3><h4 id="Parameters"><a href="#Parameters" class="headerlink" title="Parameters"></a>Parameters</h4><ul>
<li><strong>message</strong> <em>{string}</em></li>
<li><strong>type</strong> <em>{string=}</em> <code>error</code> or <code>warning</code></li>
</ul>
<p>Logs stuff to <a href="/docs/uppy/#logger"><code>logger</code></a> methods.</p>
<p>See <a href="/docs/uppy/#logger"><code>logger</code></a> docs for details.</p>
<figure class="highlight js"><table><tr><td class="code"><pre>uppy<span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'[Dashboard] adding files...'</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<h3 id="uppy-info"><a href="#uppy-info" class="headerlink" title="uppy.info()"></a><code>uppy.info()</code></h3><h4 id="Parameters-1"><a href="#Parameters-1" class="headerlink" title="Parameters"></a>Parameters</h4><ul>
<li><strong>message</strong> <em>{(string|object)}</em> — <code>'info message'</code> or <code>{ message: 'Oh no!', details: 'File couldn’t be uploaded' }</code></li>
<li><strong>type</strong> <em>{string} [type=’info’]</em> — <code>info</code>, <code>warning</code>, <code>success</code> or <code>error</code></li>
<li><strong>duration</strong> <em>{number} [duration = 3000]</em> — in milliseconds</li>
</ul>
<p>Sets a message in state, with optional details, that can be shown by notification UI plugins. Currently, that means just the <a href="/docs/informer/">Informer</a> plugin, included by default in Dashboard.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">info</span><span class="token punctuation">(</span><span class="token string">'Oh my, something good happened!'</span><span class="token punctuation">,</span> <span class="token string">'success'</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">info</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    message<span class="token operator">:</span> <span class="token string">'Oh no, something bad happened!'</span><span class="token punctuation">,</span>
    details<span class="token operator">:</span> <span class="token string">'File couldn’t be uploaded because there is no internet connection'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<p><code>info-visible</code> and <code>info-hidden</code> events are emitted when this info message should be visible or hidden.</p>
<h3 id="uppy-on-39-event-39-action"><a href="#uppy-on-39-event-39-action" class="headerlink" title="uppy.on('event', action)"></a><code>uppy.on('event', action)</code></h3><p>Subscribe to an uppy-event. See below for the full list of events.</p>
<h3 id="uppy-off-39-event-39-action"><a href="#uppy-off-39-event-39-action" class="headerlink" title="uppy.off('event', action)"></a><code>uppy.off('event', action)</code></h3><p>Unsubscribe to an uppy-event. See below for the full list of events.</p>
<h2 id="Events"><a href="#Events" class="headerlink" title="Events"></a>Events</h2><p>Uppy exposes events that you can subscribe to in your app:</p>
<h3 id="file-added"><a href="#file-added" class="headerlink" title="file-added"></a><code>file-added</code></h3><p>Fired each time a file is added.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre>uppy<span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">'file-added'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'Added file'</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<h3 id="file-removed"><a href="#file-removed" class="headerlink" title="file-removed"></a><code>file-removed</code></h3><p>Fired each time a file is removed.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre>uppy<span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">'file-removed'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'Removed file'</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<h3 id="upload"><a href="#upload" class="headerlink" title="upload"></a><code>upload</code></h3><p>Fired when upload starts.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre>uppy<span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">'upload'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// data object consists of `id` with upload ID and `fileIDs` array</span>
  <span class="token comment">// with file IDs in current upload</span>
  <span class="token comment">// data: { id, fileIDs }</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Starting upload </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> for files </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>fileIDs<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<h3 id="upload-progress"><a href="#upload-progress" class="headerlink" title="upload-progress"></a><code>upload-progress</code></h3><p>Fired each time file upload progress is available:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre>uppy<span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">'upload-progress'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">file<span class="token punctuation">,</span> progress</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// file: { id, name, type, ... }</span>
  <span class="token comment">// progress: { uploader, bytesUploaded, bytesTotal }</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">,</span> progress<span class="token punctuation">.</span><span class="token property-access">bytesUploaded</span><span class="token punctuation">,</span> progress<span class="token punctuation">.</span><span class="token property-access">bytesTotal</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<h3 id="upload-success"><a href="#upload-success" class="headerlink" title="upload-success"></a><code>upload-success</code></h3><p>Fired each time a single upload is completed.</p>
<p><code>response</code> object (depending on the uploader plugin used, it might contain less info, the example is for <code>@uppy/xhr-upload</code>):</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="token punctuation">{</span>
  status<span class="token punctuation">,</span> <span class="token comment">// HTTP status code (0, 200, 300)</span>
  body<span class="token punctuation">,</span> <span class="token comment">// response body</span>
  uploadURL <span class="token comment">// the file url, if it was returned</span>
<span class="token punctuation">}</span></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre>uppy<span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">'upload-success'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">file<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">,</span> response<span class="token punctuation">.</span><span class="token property-access">uploadURL</span><span class="token punctuation">)</span>
  <span class="token keyword">var</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  img<span class="token punctuation">.</span><span class="token property-access">width</span> <span class="token operator">=</span> <span class="token number">300</span>
  img<span class="token punctuation">.</span><span class="token property-access">alt</span> <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token property-access">id</span>
  img<span class="token punctuation">.</span><span class="token property-access">src</span> <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token property-access">uploadURL</span>
  <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<h3 id="complete"><a href="#complete" class="headerlink" title="complete"></a><code>complete</code></h3><p>Fired when all uploads are complete.</p>
<p>The <code>result</code> parameter is an object with arrays of <code>successful</code> and <code>failed</code> files, just like in <a href="#uppy-upload"><code>uppy.upload()</code></a>’s return value.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre>uppy<span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">'complete'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'successful files:'</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span><span class="token property-access">successful</span><span class="token punctuation">)</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'failed files:'</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span><span class="token property-access">failed</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<h3 id="error"><a href="#error" class="headerlink" title="error"></a><code>error</code></h3><p>Fired when Uppy fails to upload/encode the entire upload. That error is then set to <code>uppy.getState().error</code>.</p>
<h3 id="upload-error"><a href="#upload-error" class="headerlink" title="upload-error"></a><code>upload-error</code></h3><p>Fired each time a single upload has errored.</p>
<p><code>response</code> object is an optional parameter and may be undefined depending on the uploader plugin used, it might contain less info, the example is for <code>@uppy/xhr-upload</code>:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="token punctuation">{</span>
  status<span class="token punctuation">,</span> <span class="token comment">// HTTP status code (0, 200, 300)</span>
  body <span class="token comment">// response body</span>
<span class="token punctuation">}</span></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre>uppy<span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">'upload-error'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">file<span class="token punctuation">,</span> error<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'error with file:'</span><span class="token punctuation">,</span> file<span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">)</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'error message:'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<h3 id="upload-retry"><a href="#upload-retry" class="headerlink" title="upload-retry"></a><code>upload-retry</code></h3><p>Fired when an upload has been retried (after an error, for example):</p>
<figure class="highlight js"><table><tr><td class="code"><pre>uppy<span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">'upload-retry'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">fileID</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'upload retried:'</span><span class="token punctuation">,</span> fileID<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<h3 id="info-visible"><a href="#info-visible" class="headerlink" title="info-visible"></a><code>info-visible</code></h3><p>Fired when “info” message should be visible in the UI. By default, <code>Informer</code> plugin is displaying these messages (enabled by default in <code>Dashboard</code> plugin). You can use this event to show messages in your custom UI:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre>uppy<span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">'info-visible'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> info <span class="token operator">=</span> uppy<span class="token punctuation">.</span><span class="token method function property-access">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">info</span>
  <span class="token comment">// info: {</span>
  <span class="token comment">//  isHidden: false,</span>
  <span class="token comment">//  type: 'error',</span>
  <span class="token comment">//  message: 'Failed to upload',</span>
  <span class="token comment">//  details: 'Error description'</span>
  <span class="token comment">// }</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>info<span class="token punctuation">.</span><span class="token property-access">message</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>info<span class="token punctuation">.</span><span class="token property-access">details</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<h3 id="info-hidden"><a href="#info-hidden" class="headerlink" title="info-hidden"></a><code>info-hidden</code></h3><p>Fired when “info” message should be hidden in the UI. See <a href="#info-visible"><code>info-visible</code></a>.</p>
<h3 id="cancel-all"><a href="#cancel-all" class="headerlink" title="cancel-all"></a><code>cancel-all</code></h3><p>Fired when <a href=""><code>uppy.cancelAll()</code></a> is called, all uploads are canceled, files removed and progress is reset.</p>
<h3 id="restriction-failed"><a href="#restriction-failed" class="headerlink" title="restriction-failed"></a><code>restriction-failed</code></h3><p>Fired when a file violates certain restrictions when added. This event is just providing another choice for those who want to customize the behavior of file upload restrictions.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre>uppy<span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">'restriction-failed'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">file<span class="token punctuation">,</span> error</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// do some customized logic like showing system notice to users</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<h3 id="reset-progress"><a href="#reset-progress" class="headerlink" title="reset-progress"></a><code>reset-progress</code></h3><p>Fired when <code>uppy.resetProgress()</code> is called, each file has its upload progress reset to zero.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre>uppy<span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">'reset-progress'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// progress was reset</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></td></tr></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script></body></html>
    
    

    
    <div class="footer">Caught a mistake or want to contribute to the documentation?
       <a href="https://github.com/transloadit/uppy/blob/master/website/src/docs/uppy.md" rel="noreferrer noopener" target="_blank">Edit/fork this page directly on Github</a>!
    </div>
</div>

        
      </main>

      <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-63083-12', 'uppy.io');
  ga('set', 'anonymizeIp', true);
  ga('send', 'pageview');
</script>


      
        <script src="/js/smooth-scroll.min.js"></script>
        <!-- Place this tag in your head or just before your close body tag. -->
        <script async defer src="https://buttons.github.io/buttons.js"></script>
      
      <script src="/js/common.js"></script>

      <!-- Twitter follow button script -->
      <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

      <!--script src="//ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js"></script>
      <script>
        WebFont.load({
          google: {
            families: ['Source Sans Pro:400,600', 'Roboto Mono', 'Poiret One:400']
          }
        });
      </script-->
    </div>
  </body>
</html>
